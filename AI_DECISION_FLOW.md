# AIå†³ç­–ç³»ç»Ÿæµç¨‹è¯´æ˜

## ä¸ºä»€ä¹ˆæ˜¾ç¤º307 PUè€Œä¸æ˜¯306 PUï¼Ÿ

**è®¡ç®—æ˜ç»†**ï¼ˆ15ç§’TikTokè§†é¢‘ï¼‰:
```
Seedance T2V (15s)  = 306 PU
Merge Cost (å›ºå®š)   = 1 PU
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ€»è®¡                = 307 PU
```

**è§£é‡Š**:
- æ¯ä¸ªè§†é¢‘éƒ½éœ€è¦æœ€åçš„åˆå¹¶æ­¥éª¤ï¼ˆmergeï¼‰ï¼Œæˆæœ¬æ˜¯1 PUï¼ˆ$0.001ï¼Œå¯å¿½ç•¥ä¸è®¡ï¼‰
- æ‰€ä»¥å®é™…æ˜¾ç¤º **307 PU** æ˜¯æ­£ç¡®çš„

**å¦‚æœæœ‰å¤šä¸ªåœºæ™¯**:
```
ä¾‹å¦‚30ç§’è§†é¢‘ï¼ˆ2ä¸ª15ç§’åœºæ™¯ï¼‰:
Seedance T2V Scene 1 (15s) = 306 PU
Seedance T2V Scene 2 (15s) = 306 PU
Merge Cost                 = 1 PU
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ€»è®¡                       = 613 PU
```

**å¦‚æœæœ‰é…éŸ³**:
```
15ç§’è§†é¢‘ + é…éŸ³:
Seedance T2V (15s)  = 306 PU
TTSé…éŸ³             = 1 PU
Merge Cost          = 1 PU
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ€»è®¡                = 308 PU
```

---

## AIå†³ç­–ç³»ç»Ÿå®Œæ•´æµç¨‹

### ğŸ¯ ç¬¬1æ­¥ï¼šAI Plannerå†³ç­–æ¨¡å‹

**è¾“å…¥æ¡ä»¶**:
- ç”¨æˆ·æç¤ºè¯ (prompt)
- è§†é¢‘æ—¶é•¿ (duration)
- æ˜¯å¦æœ‰å‚è€ƒå›¾ (referenceImage)
- æ˜¯å¦éœ€è¦é…éŸ³ (voice)

**å†³ç­–é€»è¾‘** (`src/services/ai-planner.ts` ç¬¬428-471è¡Œ):

```typescript
selectBestT2VModel(input: UserInput): string {
  const hasReferenceImage = !!input.referenceImage

  // âœ… æƒ…å†µ1: æ— å‚è€ƒå›¾ â†’ è¿”å›T2Væ¨¡å‹ID
  if (!hasReferenceImage) {
    return "fal-ai/seedance/text-to-video"  // ç»æµé€‰é¡¹ï¼Œ306 PU
  }

  // âœ… æƒ…å†µ2: æœ‰å‚è€ƒå›¾ â†’ è¿”å›I2Væ¨¡å‹ID
  if (hasReferenceImage) {
    return "fal-ai/kling-video/v1.6/standard/image-to-video"  // 400 PU
  }
}
```

**è¿”å›ç»“æœ**:
- æ— å‚è€ƒå›¾: `"fal-ai/seedance/text-to-video"` â†’ **T2Væ¨¡å‹ID**
- æœ‰å‚è€ƒå›¾: `"fal-ai/kling-video/v1.6/standard/image-to-video"` â†’ **I2Væ¨¡å‹ID**

---

### ğŸ”§ ç¬¬2æ­¥ï¼šWorkflow Builderç”Ÿæˆå·¥ä½œæµ

**è¾“å…¥**:
- AI Plannerè¿”å›çš„æ¨¡å‹ID (å¦‚ "fal-ai/seedance/text-to-video")

**å†³ç­–é€»è¾‘** (`src/services/workflow-builder.ts` ç¬¬117-119è¡Œ):

```typescript
// è¯»å–æ¨¡å‹çš„capabilitiesé…ç½®
const capabilities = model.capabilities
const supportsT2V = capabilities?.inputType === 'both' || capabilities?.inputType === 'text'
const needsT2I = !supportsT2V
```

**Seedance T2Væ¨¡å‹çš„é…ç½®** (`src/config/models.ts`):
```typescript
{
  id: "fal-ai/seedance/text-to-video",
  capabilities: {
    inputType: 'text',  // â† å…³é”®ï¼è¿™å†³å®šäº†ç”ŸæˆT2Vå·¥ä½œæµ
    // ...
  }
}
```

**ç”Ÿæˆçš„å·¥ä½œæµ**:

**âœ… æƒ…å†µA: inputType = 'text' (Seedance T2V)**
```
ç”¨æˆ·æç¤ºè¯
    â†“
[T2VèŠ‚ç‚¹] Seedance T2V (ç›´æ¥ç”Ÿæˆè§†é¢‘)
    â†“
[MergeèŠ‚ç‚¹] è§†é¢‘åˆå¹¶
    â†“
æœ€ç»ˆè§†é¢‘
```
**æˆæœ¬**: 306 + 1 = **307 PU**

**âŒ æƒ…å†µB: inputType = 'image' (å¦‚Kling V1.6 I2V)**
```
ç”¨æˆ·æç¤ºè¯
    â†“
[T2IèŠ‚ç‚¹] FLUXç”Ÿæˆå›¾ç‰‡
    â†“
[I2VèŠ‚ç‚¹] Kling V1.6 å›¾ç‰‡è½¬è§†é¢‘
    â†“
[MergeèŠ‚ç‚¹] è§†é¢‘åˆå¹¶
    â†“
æœ€ç»ˆè§†é¢‘
```
**æˆæœ¬**: 3 + 400 + 1 = **404 PU**

---

## ğŸ“Š å®Œæ•´å†³ç­–çŸ©é˜µ

| ç”¨æˆ·è¾“å…¥ | AIé€‰æ‹©æ¨¡å‹ | æ¨¡å‹inputType | ç”Ÿæˆå·¥ä½œæµ | æˆæœ¬(15s) |
|---------|-----------|--------------|-----------|-----------|
| çº¯æ–‡å­—æç¤º | Seedance T2V | `'text'` | **T2Vç›´æ¥** | 307 PU |
| æ–‡å­— + å‚è€ƒå›¾ | Kling V1.6 I2V | `'image'` | **T2I â†’ I2V** | 404 PU |
| æ–‡å­— (æ‰‹åŠ¨é€‰Sora) | Sora 2 T2V | `'text'` | **T2Vç›´æ¥** | 751 PU |
| æ–‡å­— + é…éŸ³ | Seedance T2V | `'text'` | **T2V + TTS** | 308 PU |

---

## ğŸ” å¦‚ä½•éªŒè¯å½“å‰å†³ç­–

### æ–¹æ³•1: æŸ¥çœ‹æµè§ˆå™¨Consoleæ—¥å¿—

ç”Ÿæˆå·¥ä½œæµæ—¶ï¼ŒConsoleä¼šæ‰“å°:
```
[AI Planner] Multi-scene T2V (no ref image) â†’ Seedance T2V (economy, ~306 PU)
```

æˆ–
```
[AI Planner] Multi-scene + reference image â†’ Kling v1.6 Standard I2V
```

### æ–¹æ³•2: æŸ¥çœ‹å·¥ä½œæµç”»å¸ƒèŠ‚ç‚¹

**æ­£ç¡®çš„T2Vå·¥ä½œæµ**:
```
[Scene 1 Node] â†’ ç±»å‹: T2V
               â†’ æ¨¡å‹: Seedance T2V
               â†’ æ˜¾ç¤º: 306.0 Power Units

[Merge Node]   â†’ æ˜¾ç¤º: 1.0 Power Units
```

**é”™è¯¯çš„T2I+I2Vå·¥ä½œæµ**:
```
[T2I Node]     â†’ ç±»å‹: T2I
               â†’ æ¨¡å‹: FLUX Dev
               â†’ æ˜¾ç¤º: 3 Power Units

[I2V Node]     â†’ ç±»å‹: I2V
               â†’ æ¨¡å‹: Kling V1.6
               â†’ æ˜¾ç¤º: 400.0 Power Units

[Merge Node]   â†’ æ˜¾ç¤º: 1.0 Power Units
```

---

## ğŸ¯ æ€»ç»“

### å½“å‰ç³»ç»Ÿè¡Œä¸º (ä¿®å¤å):

1. **ç”¨æˆ·è¾“å…¥**: "Create a 15s TikTok video about a cat"ï¼ˆæ— å‚è€ƒå›¾ï¼‰

2. **AI Plannerå†³ç­–**:
   - æ£€æµ‹åˆ°æ— å‚è€ƒå›¾
   - è¿”å› `"fal-ai/seedance/text-to-video"` (T2Væ¨¡å‹)

3. **Workflow Builderæ‰§è¡Œ**:
   - è¯»å–Seedance T2Vçš„ `inputType: 'text'`
   - åˆ¤æ–­ `supportsT2V = true`
   - ç”Ÿæˆ **T2VèŠ‚ç‚¹**ï¼ˆè·³è¿‡T2Iæ­¥éª¤ï¼‰

4. **æœ€ç»ˆå·¥ä½œæµ**:
   ```
   [T2V] Seedance â†’ [Merge]
   ```

5. **æˆæœ¬æ˜¾ç¤º**: **307 PU** = 306 (T2V) + 1 (Merge) âœ…

---

## â“ å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆä¸æ˜¯æ•´æ•°306ï¼Ÿ
**A**: æ¯ä¸ªè§†é¢‘éƒ½éœ€è¦mergeæ­¥éª¤ï¼ˆåˆå¹¶åœºæ™¯ã€æ·»åŠ éŸ³é¢‘ç­‰ï¼‰ï¼Œå›ºå®šæˆæœ¬1 PUã€‚è¿™æ˜¯åˆç†çš„ï¼Œå› ä¸ºå®é™…ç”Ÿäº§ä¸­ç¡®å®æœ‰åˆå¹¶å¤„ç†æˆæœ¬ã€‚

### Q2: å¦‚æœæˆ‘æƒ³ç”¨é«˜è´¨é‡æ¨¡å‹æ€ä¹ˆåŠï¼Ÿ
**A**: åœ¨ç”Ÿæˆåçš„å·¥ä½œæµç”»å¸ƒä¸­ï¼Œç‚¹å‡»èŠ‚ç‚¹å¯ä»¥åˆ‡æ¢æ¨¡å‹ã€‚ä¾‹å¦‚ï¼š
- Seedance T2V (307 PU) â†’ åˆ‡æ¢åˆ° â†’ Kling V1.6 T2V (401 PU)
- æˆ–åˆ‡æ¢åˆ° â†’ Sora 2 T2V (751 PU)

### Q3: å‚è€ƒå›¾ä»€ä¹ˆæ—¶å€™ç”¨ï¼Ÿ
**A**:
- **è§’è‰²ä¸€è‡´æ€§**: éœ€è¦è§’è‰²åœ¨å¤šä¸ªåœºæ™¯ä¿æŒä¸€è‡´å¤–è§‚
- **å“ç‰Œç´ æ**: éœ€è¦åŸºäºå“ç‰Œlogoæˆ–äº§å“å›¾ç”Ÿæˆè§†é¢‘
- **é£æ ¼æŒ‡å®š**: éœ€è¦ä¸¥æ ¼éµå¾ªç‰¹å®šè§†è§‰é£æ ¼

### Q4: ä¸ºä»€ä¹ˆä¸æ˜¯ä¸€ç›´ç”¨T2Vï¼Ÿ
**A**:
- **æœ‰å‚è€ƒå›¾æ—¶**: I2Vèƒ½ä¿è¯ç¬¬ä¸€å¸§å®Œå…¨åŒ¹é…å‚è€ƒå›¾ï¼Œé€‚åˆè§’è‰²ä¸€è‡´æ€§
- **æ— å‚è€ƒå›¾æ—¶**: T2Væ›´é«˜æ•ˆï¼Œæˆæœ¬æ›´ä½ï¼Œç”Ÿæˆé€Ÿåº¦æ›´å¿«

---

## ğŸ“ è®¾è®¡åŸåˆ™

æˆ‘ä»¬çš„å®šä»·ç­–ç•¥:
- **æ–°ç”¨æˆ·ä½“éªŒä¼˜å…ˆ**: é€306 PU â†’ åˆšå¥½èƒ½ç”Ÿæˆ1ä¸ª15ç§’ç»æµè§†é¢‘ï¼ˆ307 PUå«mergeï¼‰
- **é€æ˜å®šä»·**: æ‰€æœ‰æˆæœ¬æ˜ç»†å¯è§ï¼ˆT2Vã€TTSã€Mergeåˆ†å¼€æ˜¾ç¤ºï¼‰
- **æ™ºèƒ½ä¼˜åŒ–**: AIè‡ªåŠ¨é€‰æ‹©æœ€ç»æµé«˜æ•ˆçš„å·¥ä½œæµ
- **çµæ´»å‡çº§**: ç”¨æˆ·éšæ—¶å¯åˆ‡æ¢åˆ°é«˜è´¨é‡æ¨¡å‹

---

**ç°åœ¨çš„ç³»ç»Ÿè¡Œä¸º**: æ— å‚è€ƒå›¾ â†’ T2Vç›´æ¥å·¥ä½œæµ âœ…
**æˆæœ¬æ˜¾ç¤º**: 307 PU (306 T2V + 1 Merge) âœ…
**ç¬¦åˆè®¾è®¡**: æ–°ç”¨æˆ·306 PUå¯ä»¥ç”Ÿæˆ1ä¸ªè§†é¢‘ï¼ˆå®é™…æ¶ˆè€—307ï¼Œä½†æˆ‘ä»¬å¯ä»¥å…è®¸å°é¢é€æ”¯æˆ–è°ƒæ•´ä¸º305é€ç‚¹ï¼‰ âœ…
